<HTML>
<HEAD>
  <TITLE>COMP1917 Tutorial Week 7</TITLE>
</HEAD>
<style><!-- A {text-decoration:none} --></style>
<BODY ALINK="#660000" VLINK="#000066" LINK="#800066" BGCOLOR="#ffffff">

<H2><P><CENTER><B><FONT COLOR="#000066">
COMP 1917 Computing 1<br>
Session 2, 2016</FONT></B></CENTER></P></H2>

<H2><P><CENTER><B>Tutorial - Week 7</B></CENTER></P></H2>

<P><B><FONT SIZE=-1>
<SCRIPT LANGUAGE="JavaScript">
document.write("This page was last updated: " +
document.lastModified);
</SCRIPT>
</FONT>
</B>
</P>

<hr align=left>

<h3>Presentation Topic for This Week</h3>
<p>
Explain what is meant by a "Buffer-Overflow Attack".
What kind of code is susceptible to such an attack?
How can you re-write your code to protect it from this threat?
<p>

<hr align=left>

<ol>

<li>
Write a program that scans in the size of an array and then uses the function <code>int *readArray(int size)</code> to dynamically allocate an array of appropriate size and populate it with numbers from standard input.
<pre>
int main(int argc, char *argv[]){
    int size = 0;
    scanf("%d", &size);

    return 0;
}

int *readArray(int size){

}
</pre>
<li>
How would you free the allocated block after you've finished using it? What are some of the implications of not freeing the memory?
<li>
<p>
What is wrong with the following example
<pre>
int main(int argc, char *argv[]){
    int size = 0;
    scanf("%d", &size);
    int *arr = createArray(size);

    return 0;
}

int *createArray(int size){
    int new_array[size];
    return new_array;
}
</pre>

<li>
A point in two dimensional space
can be stored as an array with two entries,
or as a structure with two components
<code>x</code> and <code>y</code>:

<pre>
    typedef struct point Point;

    struct point {
      double x;
      double y;
    };
</pre>
For each of these two representations, write a function which,
given two points <code>p</code> and <code>q</code>,
returns the distance between them:
<pre>
    double distA( double p[2], double q[2] );

    double distS( Point p, Point q );
</pre>
Do you find one version of the function "easier to read"
than the other?
<p>
<li>Write a program that uses  <code>struct _student</code> with attributes <code>int zid</code> and <code>double height</code>. Create an array of these structs and populate each struct with infromation from standard input.
<p>
<b>If time allows:</b>
<p>
<li> Extend previous program to use function
<code>tallest_student</code> that takes in an array of student structs and returns zid of the tallest student.
<p>
<li> Complete the following program that uses the function <code>allocate_string</code> to dynamically allocate read in strings.
<pre>
char * allocate_string(char * current);

int main(int argc, char *argv[]){

    char buffer[100];
    char *strings[100];
    int count = 0;

    while(fgets(buffer,100,stdin)!= NULL && count < 100){

        strings[count] = allocate_string(buffer);
        count++;
    }
    int i;
    for(i = 0; i < count; i++){
        printf("%s\n",strings[i]);
        free(strings[i]); 
    }   

    return 0;
}


char * allocate_string(char *current){

}
</pre>
What is the benefit of dynamically allocating strings over having a static array char strings[100][100]?
</ol>

<hr>

<h3>Presentation Topic for Week 8</h3>
Discuss how and why abstraction is used in computer science? Can you think of an example of a function you used in this course where the internal complexity was abstracted away?

<p>
<P><HR ALIGN=LEFT>
</BODY>
</HTML>

